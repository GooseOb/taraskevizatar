const cacheName="v1",staticCacheName="v1",assetUrls=["index.html","script.js","styles/style.css","styles/dark.css"],staticAssetUrls=["fonts/NotoSansArabic-SemiBold.ttf","icons/close.svg","icons/copy.svg","icons/edit.svg","icons/info.svg","icons/settings.svg","icons/theme/light.svg","icons/theme/dark.svg"],cacheFirst=async s=>await caches.match(s)||await fetch(s);self.addEventListener("install",()=>{console.log("[SW] install"),caches.open(cacheName).then(s=>s.addAll(assetUrls)),caches.open(staticCacheName).then(s=>s.addAll(staticAssetUrls))}),self.addEventListener("activate",async()=>{console.log("[SW] activate");const s=await caches.keys();await Promise.all(s.filter(s=>s!==cacheName&&s!==staticCacheName).map(s=>caches.delete(s)))}),self.addEventListener("fetch",s=>{s.respondWith(cacheFirst(s.request))});